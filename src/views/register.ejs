<!DOCTYPE html>
<html>

<head>
    <%- include('./partials/head.ejs') %>
</head>

<body>
    <%- include('./partials/header.ejs') %>

        <div class="container">
            <% if(locals.errRegister){ %>
                <h3 class=" d-flex justify-content-center mt-3">
                    <%= errRegister %>
                </h3>

                <% } %>

                    <form action="/users/register" method="post" enctype="multipart/form-data" class=" bg-info col-md-8 m-auto mt-3 p-1 rounded">
                        <h1 class=" d-flex justify-content-center mt-3">Register</h1>
                        <div class="row d-flex justify-content-center p-5 mt-1">
                            <div class="row  d-flex justify-content-center">
                                <div class="col-md-6">

                                    <label for="name" class="form-label">Nombre</label>
                                    <input type="text" id="name" name="name" class="form-control "
                                        value="<%= locals.old && old.name ? old.name : '' %>">

                                    <% if( locals.errors && errors.name ){ %>
                                        <i class="text-danger ">
                                            <%= errors.name.msg %>
                                        </i>

                                        <% } %>

                                </div>

                                <div class="col-md-6">

                                    <label for="lastname" class="form-label">Apellido</label>
                                    <input type="text" id="lastname" name="lastname" class="form-control "
                                        value="<%= locals.old && old.lastname ? old.lastname : '' %>">
                                    <% if( locals.errors && errors.name ){ %>
                                        <i class="text-danger">
                                            <%= errors.lastname.msg %>
                                        </i>
                                        <% } %>

                                </div>

                            </div>

                            <div class="row  d-flex justify-content-center mt-3">

                                <div class="col-md-6">

                                    <label for="email" class="form-label">User email</label>
                                    <input type="email" id="email" name="email" class="form-control"
                                        value="<%= locals.old && old.email ? old.email : '' %>">
                                    <% if( locals.errors && errors.email ){ %>
                                        <i class="text-danger">
                                            <%= errors.email.msg %>
                                        </i>
                                        <% } %>
                                </div>

                                <div class="col-md-6">
                                    <label for="formFile" class="form-label">Imagen</label>
                                    <input class="form-control" type="file" id="formFile" name="image">
                                </div>

                                
                            </div>

                            <div class="row  d-flex justify-content-center mt-3">
                                <div class="col-md-6">
                                    <label for="password" class="form-label">Password</label>
                                    <input type="password" id="password" name="password" class="form-control"
                                        aria-describedby="passwordHelpBlock">
                                    <% if( locals.errors && errors.password ){ %>
                                        <i class="text-danger">
                                            <%= errors.password.msg %>
                                        </i>
                                        <% } %>

                                </div>

                                <!-- TODO:Repassword -->
                                <div class="col-md-6">
                                    <label for="rePassword" class="form-label">Repetir Password</label>
                                    <input type="password" id="rePassword" name="rePassword" class="form-control"
                                        aria-describedby="passwordHelpBlock">
                                    <% if( locals.errors && errors.password ){ %>
                                        <i class="text-danger">
                                            <%= errors.password.msg %>
                                        </i>
                                        <% } %>

                                </div>

                            </div>

                            <div class="row  d-flex justify-content-center mt-3 mb-1">
                                <div class="col-md-8 d-flex justify-content-center">
                                    <button class="btn btn-primary" type="submit">Registrar</button>
                                </div>

                            </div>
                        </div>

                    </form>
        </div>



        <%- include('./partials/scripts.ejs') %>
</body>

</html>